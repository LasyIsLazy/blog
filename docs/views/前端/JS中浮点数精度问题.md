---
title: JS中浮点数精度问题
date: 2020-05-06
tags:
- JavaScript
categories: 
 - 前端
---



**JS中浮点数精度问题**



`0.1 + 0.2 !== 0.3`

计算机使用64位固定长度的二进制存储 Number，0.1 和 0.2 在转换成二进制的时候小数位是无限循环的，在存储的时候超出长度的小数会被截断（进一舍零），截断后的两者相加，就产生了误差，进而导致结果转换为十进制之后不是 0.3。

解决方案：

1. 对精度要求不高的：`toFixed()` 取固定小数位数。
2. 对精度要求高的：转换成字符串存储，运算的时候将字符串转换成整数进行运算（去掉字符串中的小数点，并记录位置），运算结果再加上小数点。

参考：

- https://juejin.im/post/5aa1395c6fb9a028df223516