涉及到的概念：
- 阻塞
- 同步
- 异步
- 进程
- 线程
    - 挂起
    - 并行
    - 并发
- 中断查询
- 事件循环

## 同步、异步

Wiki：异步 I/O
> In computer science, asynchronous I/O (also non-sequential I/O) is a form of input/output processing that permits other processing to continue before the transmission has finished.
> 
> 在计算机科学中，异步I/O（也叫非顺序I/O）是一种输入/输出处理形式，允许其他处理在它传输完成之前继续。

这个定义同样可以适用到所有的同步、异步。
整理一下信息我们可以得出：
- 同步或者异步是一种**处理形式**。
- 同步是顺序的；异步是非顺序的。
- 同步操作在处理完成之前不允许进行其他操作；异步操作在传输完成之前允许进行其他操作。

### 同步或者异步是一种**处理形式**


同步或者异步是用来描述两个任务（操作）的，是相对的概念。我们常说的一个任务是同步的或者异步的，是相对于另一个任务的。同步或异步描述的如何处理两个任务的执行顺序，所以说是一种**处理形式**。

### 同步是顺序的；异步是非顺序的

任务 B 的执行需要任务 A 执行的结果，j任务 C 的执行需要任务 B 执行的结果。因此任务 B 只能等待任务 A 执行完毕才能执行，任务 C 只有在任务 B 执行完毕之后才能执行，所以最终的顺序只能是 A -> B -> C。也可以说，同步执行的任务是有**关联**、有**依赖**的，相反，异步执行的任务互相独立。

### 同步的操作在处理完成之前不允许进行其他操作；异步操作在传输完成之前允许进行其他操作

同步操作的其他操作（也可以说是进一步操作）指的就是同步的其他任务。同步的任务由于存在依赖关系，所以在被依赖的任务完成之前是没有办法进行其他任务的；而异步的任务由于没有依赖关系，所以完全可以*并发*执行，两个完全不相干的任务没有必要去等彼此。

用图来表示：

同步的任务 A、B、C：
```
thread A -> |<---A---->|   
                        \  
thread B ------------>   ->|<----B---------->|   
                                              \   
thread C ---------------------------------->   ->|<------C----->| 
```
A、B、C 分别在不同的线程上，但是由于其同步的关系，所以 B、C 在一开始并不会运行，而是按照 A -> B -> C 的顺序执行的。

异步的任务 A、B、C：
```
thread A ->     |<---A---->|
thread B ----->     |<----B---------->| 
thread C --------->     |<------C--------->|
```

异步的任务 A、B、C 是完全是由自己决定运行的。

图示来源：[stackoverflow
](https://stackoverflow.com/a/748235/6638065)

`<`，`>`代表任务的开始与结束；`|`代表*CPU时间片*。

关于同步与异步的生动的比喻：

同步：你在排队买电影票，只有你前面的所有人都买到电影票你才能买，你和其他人是同步的。
异步：你在餐馆点餐。你点你的餐，其他人也在点他们的餐





## Q&A

Q：
A：

参考：
- [Wikipedia: Asynchronous_I/O](https://en.wikipedia.org/wiki/Asynchronous_I/O)
- [StackOverflow: Asynchronous vs synchronous execution, what does it really mean?
](https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean)

线程的阻塞
> In computer science, an algorithm is called non-blocking if failure or suspension of any thread cannot cause failure or suspension of another thread
>
> 在计算机科学中，如果任何线程的失败或暂停不会导致另一个线程的失败或暂停，则称这个算法为非阻塞的

Nodejs

> Blocking is when the execution of additional JavaScript in the Node.js process must wait until a non-JavaScript operation completes. This happens because the event loop is unable to continue running JavaScript while a blocking operation is occurring.
> 
> 阻塞是指在Node.js进程中执行其他JavaScript必须等到非JavaScript操作完成的时间。 发生这种情况是因为事件循环在阻塞操作发生时无法继续运行JavaScript。
同步：
- 指令之间关联的，依赖的。https://stackoverflow.com/a/748235/6638065
- 当您同步执行某些操作时，等待它完成后再继续执行其他任务。当您异步执行某些操作时，可以在完成之前继续执行另一个任务。操作系统可以管理多个线程，并在切换到另一个线程之前为线程分配处理器时间的一部分（“切片”），以便轮流做一些工作。https://stackoverflow.com/a/748189/6638065
- 排队买票、餐厅 https://stackoverflow.com/a/26804844/6638065
- 
同步执行是指代码按照**顺序**执行；
异步执行是指代码不按照代码出现的先后**顺序**执行。

阻塞指操作阻止了进一步操作的执行，直到该操作完成。
非阻塞指操作不会阻止进一步操作的执行。

阻塞、非阻塞更多的用于 I/O，同步、异步应用更广泛。

非阻塞会立即返回结果。

HTTP 协议是同步的协议，获取到响应才能发送下一个请求。

http://luoxia.me/code/2016/08/16/%E5%BC%82%E6%AD%A5%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/

阻塞与非阻塞描述的应用层在等待系统内核操作时的状态，阻塞I/O指应用程序在请求数据过程中处于挂起状态，等待完整数据返回，而非阻塞I/O不会立即完整数据，但是会立即返回，在等待完整数据的过程中，可以做其他事情。

https://www.zhihu.com/question/19732473/answer/20851256
从分布式系统角度的回答。
同步和异步关注的是消息通信机制 (synchronous communication/ asynchronous communication)所谓同步，就是在发出一个*调用*时，在没有得到结果之前，该*调用*就不返回。但是一旦调用返回，就得到返回值了。换句话说，就是由*调用者*主动等待这个*调用*的结果。而异步则是相反，*调用*在发出之后，这个调用就直接返回了，所以没有返回结果。换句话说，当一个异步过程调用发出后，调用者不会立刻得到结果。而是在*调用*发出后，*被调用者*通过状态、通知来通知调用者，或通过回调函数处理这个调用。



- 同步、异步与线程无关
- 多线程降低阻塞带来的CPU空闲时间
- I/O 有多种模型，不是所有 I/O 都是阻塞的